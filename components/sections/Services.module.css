.sectionBackground {
  position: relative;
  overflow: hidden;
  background:
    repeating-linear-gradient(
      45deg,
      rgb(74 82 64 / 0.09) 0,
      rgb(74 82 64 / 0.09) 1px,
      rgb(74 82 64 / 0) 1px,
      rgb(74 82 64 / 0) 22px
    ),
    radial-gradient(52% 45% at 90% 108%, rgb(74 82 64 / 0.18), rgb(74 82 64 / 0) 58%),
    linear-gradient(180deg, rgb(26 26 26) 0%, rgb(13 13 13) 100%);
}

/* Grain texture — ta sama rodzina co Hero */
.sectionBackground::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.15'/%3E%3C/svg%3E");
  background-repeat: repeat;
  background-size: 180px 180px;
  mix-blend-mode: overlay;
  opacity: 0.55;
}

/* Winieting góra/dół */
.sectionBackground::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    linear-gradient(180deg, rgb(0 0 0 / 0.22) 0%, transparent 16%, transparent 80%, rgb(0 0 0 / 0.3) 100%);
}

.sectionHeaderShell {
  position: relative;
  isolation: isolate;
  padding: 0 1rem 1rem;
}

.sectionTitle {
  font-weight: 700;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  -webkit-text-stroke: 2px rgb(74 82 64);
  -webkit-text-fill-color: transparent;
  background-color: rgb(160 135 100 / 0.42);
  background-image:
    radial-gradient(ellipse 38% 65% at 12% 28%, rgb(46 51 38 / 0.55), rgb(46 51 38 / 0) 100%),
    radial-gradient(ellipse 32% 72% at 72% 18%, rgb(74 82 64 / 0.52), rgb(74 82 64 / 0) 100%),
    radial-gradient(ellipse 48% 58% at 48% 85%, rgb(61 43 31 / 0.5), rgb(61 43 31 / 0) 100%),
    radial-gradient(ellipse 28% 68% at 88% 52%, rgb(90 105 72 / 0.48), rgb(90 105 72 / 0) 100%),
    radial-gradient(ellipse 42% 52% at 32% 62%, rgb(46 51 38 / 0.46), rgb(46 51 38 / 0) 100%);
  -webkit-background-clip: text;
  background-clip: text;
}

.sectionTitleAccent {
  margin-top: 0.95rem;
  display: block;
  height: 2px;
  width: clamp(8rem, 18vw, 13rem);
  background:
    linear-gradient(90deg, rgb(74 82 64 / 0.1) 0%, rgb(139 115 85 / 0.95) 50%, rgb(74 82 64 / 0.1) 100%);
  box-shadow:
    0 0 0 1px rgb(139 115 85 / 0.25),
    0 8px 20px rgb(139 115 85 / 0.2);
  transform-origin: center;
  animation: accentPulse 3.8s ease-in-out infinite;
}

.sectionIntro {
  color: rgb(197 184 172);
  max-width: 62ch;
}

.rowDivider {
  display: none;
}

@keyframes accentPulse {
  0%, 100% {
    transform: scaleX(0.86);
    opacity: 0.8;
  }
  50% {
    transform: scaleX(1);
    opacity: 1;
  }
}

.serviceCard {
  position: relative;
  overflow: hidden;
  isolation: isolate;
  min-height: 14rem;
  background:
    radial-gradient(120% 80% at 100% 0%, rgb(139 115 85 / 0.16), transparent 60%),
    linear-gradient(160deg, rgb(26 26 26 / 0.96) 0%, rgb(18 18 18 / 0.98) 100%);
  border: 1px solid rgb(139 115 85 / 0.32);
  box-shadow:
    inset 0 1px 0 rgb(255 255 255 / 0.04),
    0 16px 34px rgb(0 0 0 / 0.26);
  transition:
    transform 460ms cubic-bezier(0.19, 1, 0.22, 1),
    border-color 340ms cubic-bezier(0.22, 1, 0.36, 1),
    box-shadow 420ms cubic-bezier(0.22, 1, 0.36, 1),
    filter 420ms cubic-bezier(0.22, 1, 0.36, 1);
}

.serviceCard::before {
  content: '';
  position: absolute;
  inset: 0;
  z-index: 0;
  background:
    radial-gradient(circle at 85% 12%, rgb(139 115 85 / 0.14) 0%, transparent 46%),
    linear-gradient(120deg, transparent 12%, rgb(139 115 85 / 0.08) 50%, transparent 88%);
  opacity: 0.7;
  transform: none;
  transition:
    opacity 320ms ease,
    filter 380ms ease;
}

.serviceCard::after {
  content: '';
  position: absolute;
  inset: 0;
  z-index: 0;
  border: 1px solid transparent;
  border-image: linear-gradient(135deg, rgb(139 115 85 / 0.45), transparent 45%, rgb(139 115 85 / 0.22)) 1;
  pointer-events: none;
}

.serviceCard:hover {
  transform: translateY(-6px) scale(1.01);
  border-color: rgb(139 115 85 / 0.7);
  box-shadow:
    inset 0 1px 0 rgb(255 255 255 / 0.08),
    0 24px 45px rgb(0 0 0 / 0.42);
  filter: saturate(1.06);
}

.serviceCard:hover::before {
  opacity: 1;
  filter: brightness(1.08);
}

.serviceCardMilitary {
  backdrop-filter: blur(1.5px);
  background:
    radial-gradient(130% 90% at 12% -8%, rgb(156 165 128 / 0.25), transparent 55%),
    radial-gradient(120% 80% at 100% 100%, rgb(139 115 85 / 0.2), transparent 60%),
    linear-gradient(145deg, rgb(78 84 63 / 0.22) 0%, transparent 40%),
    repeating-linear-gradient(
      125deg,
      rgb(38 41 33 / 0.28) 0,
      rgb(38 41 33 / 0.28) 10px,
      rgb(28 31 24 / 0.34) 10px,
      rgb(28 31 24 / 0.34) 20px
    ),
    linear-gradient(160deg, rgb(20 22 18 / 0.97) 0%, rgb(15 17 13 / 0.98) 100%);
  border-color: rgb(146 154 117 / 0.62);
  box-shadow:
    inset 0 1px 0 rgb(218 208 183 / 0.12),
    0 18px 38px rgb(0 0 0 / 0.35);
}

.serviceCardMilitary::before {
  background:
    linear-gradient(120deg, transparent 10%, rgb(179 164 130 / 0.14) 50%, transparent 90%),
    radial-gradient(circle at 86% 12%, rgb(111 121 85 / 0.32) 0%, transparent 44%);
}

.serviceCardMilitary::after {
  border-image: linear-gradient(130deg, rgb(177 186 146 / 0.46), transparent 48%, rgb(139 115 85 / 0.36)) 1;
}

.serviceCardMilitary:hover {
  border-color: rgb(177 186 146 / 0.82);
  box-shadow:
    inset 0 1px 0 rgb(231 222 200 / 0.22),
    0 24px 48px rgb(0 0 0 / 0.42);
}

.serviceCardHighlight {
  backdrop-filter: blur(2px);
  background:
    radial-gradient(120% 95% at 10% -12%, rgb(255 255 255 / 0.92), transparent 52%),
    radial-gradient(110% 80% at 100% 100%, rgb(201 142 123 / 0.35), transparent 62%),
    linear-gradient(160deg, rgb(255 248 242 / 0.99) 0%, rgb(242 223 209 / 0.97) 100%);
  border-color: rgb(229 182 157 / 0.95);
  box-shadow:
    inset 0 1px 0 rgb(255 255 255 / 0.9),
    0 18px 38px rgb(64 38 26 / 0.2);
}

.serviceCardHighlight::before {
  background:
    radial-gradient(circle at 82% 15%, rgb(255 255 255 / 0.65) 0%, transparent 38%),
    radial-gradient(circle at 20% 82%, rgb(212 157 136 / 0.34) 0%, transparent 50%);
  opacity: 0.74;
  transform: none;
  transition:
    opacity 320ms ease,
    filter 380ms ease;
}

.serviceCardHighlight::after {
  border-image: linear-gradient(135deg, rgb(255 255 255 / 0.92), rgb(214 155 132 / 0.56), rgb(148 94 74 / 0.45)) 1;
}

.serviceCardHighlight:hover {
  border-color: rgb(236 166 137 / 0.98);
  box-shadow:
    inset 0 1px 0 rgb(255 255 255 / 0.95),
    0 24px 48px rgb(86 47 30 / 0.28);
  filter: saturate(1.09) contrast(1.05);
}

.serviceCardHighlight:hover::before {
  opacity: 1;
  filter: brightness(1.06);
}

.cardTopLine {
  height: 2px;
  width: 100%;
  background: linear-gradient(90deg, rgb(139 115 85 / 0.95), rgb(74 82 64 / 0.8), rgb(139 115 85 / 0.15));
  transform-origin: left center;
  opacity: 0.88;
  transform: scaleX(0.72) translateX(0);
  transition:
    transform 460ms cubic-bezier(0.22, 1, 0.36, 1),
    opacity 320ms ease;
}

.serviceCard:hover .cardTopLine {
  opacity: 1;
  transform: scaleX(1) translateX(0);
}

.cardTopLineHighlight {
  background: linear-gradient(90deg, rgb(166 92 61 / 0.95), rgb(214 155 132 / 0.92), rgb(255 255 255 / 0.55));
  opacity: 0.9;
}

.serviceCardHighlight:hover .cardTopLineHighlight {
  opacity: 1;
  transform: scaleX(1) translateX(0);
}

.cardTopLineMilitary {
  background: linear-gradient(90deg, rgb(151 159 121 / 0.9), rgb(139 115 85 / 0.78), rgb(73 81 57 / 0.32));
}

.iconBadge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 2.2rem;
  width: 2.2rem;
  border: 1px solid rgb(139 115 85 / 0.5);
  border-radius: 2px;
  background: linear-gradient(180deg, rgb(139 115 85 / 0.2), rgb(74 82 64 / 0.14));
  box-shadow: inset 0 1px 0 rgb(255 255 255 / 0.08);
  margin-inline: auto;
  transition:
    transform 360ms cubic-bezier(0.22, 1, 0.36, 1),
    border-color 320ms ease,
    box-shadow 360ms ease,
    background 360ms ease;
}

.iconBadgeHighlight {
  border-color: rgb(168 98 70 / 0.58);
  background: linear-gradient(180deg, rgb(255 255 255 / 0.9), rgb(219 164 143 / 0.42));
  box-shadow:
    inset 0 1px 0 rgb(255 255 255 / 0.98),
    0 5px 16px rgb(128 73 47 / 0.24);
}

.serviceCardHighlight:hover .iconBadgeHighlight {
  transform: scale(1.05);
  border-color: rgb(174 95 63 / 0.72);
  box-shadow:
    inset 0 1px 0 rgb(255 255 255 / 0.96),
    0 10px 20px rgb(128 73 47 / 0.28);
}

.iconBadgeMilitary {
  border-color: rgb(161 171 130 / 0.62);
  background: linear-gradient(180deg, rgb(123 133 96 / 0.36), rgb(62 68 49 / 0.62));
  box-shadow:
    inset 0 1px 0 rgb(235 226 204 / 0.24),
    0 6px 18px rgb(0 0 0 / 0.34);
}

.highlightTitle {
  color: rgb(84 45 30);
  letter-spacing: 0.03em;
}

.highlightText {
  color: rgb(114 75 58);
}

.iconHighlight {
  color: rgb(150 83 57);
}

.militaryTitle {
  color: rgb(228 223 205);
  text-shadow: 0 1px 0 rgb(0 0 0 / 0.2);
}

.militaryText {
  color: rgb(186 180 160);
}

.iconMilitary {
  color: rgb(198 190 166);
}

.contentLayer {
  position: relative;
  z-index: 1;
  display: grid;
  grid-template-rows: auto auto auto auto 1fr;
  min-height: 100%;
  row-gap: 0;
  padding-bottom: 1.5rem;
}

.cardTag {
  margin: 0 0 0.5rem;
  display: inline-flex;
  justify-content: center;
  text-align: center;
  padding: 0;
  font-size: 0.7rem;
  line-height: 1.1;
}

.cardTitle {
  margin: 0 0 0.65rem;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}

.cardDescription {
  margin: 0;
}

.iconDock {
  display: flex;
  justify-content: center;
  margin: 0.6rem 0 0.8rem;
  transition: transform 380ms cubic-bezier(0.22, 1, 0.36, 1);
}

.serviceCard:hover .iconDock {
  transform: translateY(-2px);
}

  .serviceCard:hover .iconBadge {
  transform: scale(1.06);
  box-shadow:
    inset 0 1px 0 rgb(255 255 255 / 0.14),
    0 10px 20px rgb(0 0 0 / 0.22);
}

@media (min-width: 1024px) {
  .rowDivider {
    display: block;
    height: 1px;
    width: min(100%, 60rem);
    margin-inline: auto;
    background:
      linear-gradient(90deg, rgb(214 155 132 / 0) 0%, rgb(214 155 132 / 0.58) 28%, rgb(160 171 122 / 0.58) 72%, rgb(160 171 122 / 0) 100%);
    box-shadow: 0 0 24px rgb(214 155 132 / 0.2);
  }
}

@media (min-width: 768px) {
  .cardsGrid {
    grid-template-rows: auto auto auto auto 1fr;
  }

  .serviceCard {
    grid-row: span 5;
    display: grid;
    grid-template-rows: subgrid;
  }

  .contentLayer {
    grid-row: 1 / -1;
    grid-column: 1;
    grid-template-rows: subgrid;
    min-height: unset;
    padding-bottom: 0;
  }
}

@media (prefers-reduced-motion: reduce) {
  .sectionTitleAccent,
  .serviceCard,
  .serviceCard::before,
  .cardTopLine,
  .iconBadge,
  .iconDock {
    transition: none;
    animation: none;
  }
}
